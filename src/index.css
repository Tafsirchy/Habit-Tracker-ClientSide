/* Import Design System */
@import "./styles/design-system.css";

/* Import Tailwind */
@import "tailwindcss";

/* DaisyUI Configuration */
@plugin "daisyui" {
    themes: light dark;
}

/* Global Styles */
@layer base {
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
}

html {
  width: 100%;
  max-width: 100vw;
  /* Optimized theme transition - only essential properties */
  transition: background-color 150ms ease-out;
}

body {
  width: 100%;
  max-width: 100vw;
}

#root {
  width: 100%;
}

body {
  font-family: var(--font-sans);
  background-color: var(--color-bg-secondary);
  color: var(--color-text-primary);
  line-height: 1.6;
  /* Faster, smoother transition */
  transition: background-color 150ms ease-out, color 150ms ease-out;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  /* Hint browser about upcoming changes */
  will-change: background-color, color;
}

/* OPTIMIZED: Targeted transitions instead of universal selector */
/* Only apply to elements that actually use CSS variables */
[style*="--color"],
[class*="bg-[var(--color"],
[class*="text-[var(--color"],
[class*="border-[var(--color"],
.card,
.btn-primary,
.btn-secondary,
.form-input {
  transition: background-color 150ms ease-out, 
              color 150ms ease-out, 
              border-color 150ms ease-out;
}

/* SVG icons that change with theme */
svg[class*="fill-current"],
svg[class*="stroke-current"] {
  transition: fill 150ms ease-out, stroke 150ms ease-out;
}

/* Fast transitions for swap components - instant feel */
.swap,
.swap > *,
.swap-rotate,
.swap-rotate > * {
  transition-property: transform, opacity !important;
  transition-duration: 100ms !important;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.swap svg,
.swap-rotate svg {
  transition: transform 100ms cubic-bezier(0.4, 0, 0.2, 1), 
              opacity 100ms cubic-bezier(0.4, 0, 0.2, 1) !important;
}

/* CSS Containment for heavy sections - prevents cascade */
.newsletter-section,
.habit-slider,
.testimonials-section,
.features-section,
.dashboard-layout,
.habit-card {
  contain: layout style;
}

/* Ensure dark mode transitions smoothly */
[data-theme="dark"] {
  color-scheme: dark;
}

[data-theme="light"] {
  color-scheme: light;
}

/* NO-TRANSITIONS utility for synchronization */
.no-transitions *,
.no-transitions *::before,
.no-transitions *::after {
  transition: none !important;
  animation-duration: 0.01ms !important;
  animation-iteration-count: 1 !important;
}

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Remove default button styles */
button {
  font-family: inherit;
}

/* Improve image rendering */
img {
  max-width: 100%;
  height: auto;
  display: block;
}

/* Link styles */
a {
  color: inherit;
  text-decoration: none;
}

/* Selection */
::selection {
  background-color: var(--color-primary-light);
  color: white;
}

/* Custom Animations for Authentication */
@keyframes shake {
  0%, 100% { transform: translateX(0); }
  10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
  20%, 40%, 60%, 80% { transform: translateX(5px); }
}

.animate-shake {
  animation: shake 0.5s ease-in-out;
}

/* Animation delays */
.delay-75 {
  animation-delay: 75ms;
}

.delay-100 {
  animation-delay: 100ms;
}

.delay-150 {
  animation-delay: 150ms;
}

.delay-200 {
  animation-delay: 200ms;
}

.delay-300 {
  animation-delay: 300ms;
}

